edition = "2023";

package blob.api.v1;

import "google/protobuf/go_features.proto";

option features.(pb.go).api_level = API_OPAQUE;

service BlobService {
  rpc ListBlobs(ListBlobsRequest) returns (ListBlobsResponse) {}
  rpc GetBlob(GetBlobRequest) returns (GetBlobResponse) {}
  rpc SetBlob(SetBlobRequest) returns (SetBlobResponse) {}
  rpc DeleteBlob(DeleteBlobRequest) returns (DeleteBlobResponse) {}
}

message Blob {
  string name = 1;
  bytes content = 2;
}

message ListBlobsRequest {
  string path = 1;
}

message ListBlobsResponse {
  repeated string names = 1;
}

message GetBlobRequest {
  string name = 1;
}

message GetBlobResponse {
  Blob blob = 1;
}

message SetBlobRequest {
  string name = 1;
  bytes content = 2;
}

message SetBlobResponse {}

message DeleteBlobRequest {
  string name = 1;
}

message DeleteBlobResponse {}
